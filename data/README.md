# 数据

数据来源于 `csmar`，版权原因不在这里提供具体数据，仅标注数据文件名。请从适当渠道按照下文标注来下载相关数据，格式为 csv，然后运行仓库内的数据处理脚本。

## 数据准备

请从 `csmar` 上下载，时间跨度全部为 2010-1 到 2020 -1。以下数据下载后，请解压，并将数据放到本目录下。

### 个股收益率和市值

选择 股票市场系列 > 股票市场交易 > 个股交易数据 > 月个股回报率文件

选择以下数据下载

Stkcd [证券代码] - 以上交所、深交所公布的证券代码为准
Trdmnt [交易月份] - 以YYYY-MM表示
Msmvosd [月个股流通市值] - 个股的流通股数与月收盘价的乘积。 A股以人民币元计，上海B以美元计，深圳B以港币计，注意单位是千
Mretwd [考虑现金红利再投资的月个股回报率] - 字段说明见“回报率计算方法”

### 市场回报率

选择 股票市场系列 > 股票市场交易 > 各分市场交易数据 > 月市场回报率文件

选择以下数据下载

Markettype [市场类型] - 1=上海A，2=上海B，4=深圳A，8=深圳B,  16=创业板， 32=科创板。
Trdmnt [交易月份] - 以YYYY-MM表示
Mretwdos [考虑现金红利再投资的月市场回报率(流通市值加权平均法)] - 字段说明见“回报率计算方法”

### 无风险利率

选择 股票市场系列 > 股票市场交易 > 汇率及利率 > 无风险利率文件

选择以下数据下载

Clsdt [统计日期] - 统计截止日期，YYYY-MM-DD
Nrrmtdt [月度化无风险利率(%)] - 根据复利计算方法，将年度的无风险利率转化为月度数据

### 账面市值比

选择 专题研究系列 > 收益预测 > 财务指标文件 > 指标文件

选择以下数据下载

Stkcd [证券代码] - 上交所上市证券以上海交易所公布证券为准，深交所上市证券在深交所公布的证券代码前加00
Accper [会计年度] - 以YYYY-MM-DD表示
Bktomk [账面市值比] - 账面市值比 = 股东权益合计／总市值。

### 净资产利率

选择 公司研究系列 > 财务指标分析 > 盈利能力 > 盈利能力

选择以下数据下载

Stkcd [股票代码] - 以上海交易所、深圳证券交易所公布的证券代码为准
Accper [截止日期] - 指会计报表日，统一用10位字符表示，如1999-12-31。
Typrep [报表类型编码] - A：合并报表；B：母公司报表；在公司未公布合并报表，本数据库以单一报表数据添列。
F050501B [净资产收益率A] - 净利润／股东权益余额；当分母未公布或为零或小于零时，以NULL表示

### 总资产增长率

选择 公司研究系列 > 财务指标分析 > 发展能力 > 发展能力

选择以下数据下载

Stkcd [股票代码] - 以上海交易所、深圳证券交易所公布的证券代码为准
Accper [会计年度] - 指会计报表日，统一用10位字符表示，如1999-12-31。
Typrep [报表类型编码] - A：合并报表；B：母公司报表；在公司未公布合并报表，本数据库以单一报表数据添列。
F080601A [总资产增长率A] - （资产总计本期期末值—资产总计本期期初值）/（资产总计本期期初值）；当分母未公布或为零或小于零时，以NULL表示

### 公司信息

选择 公司研究系列>上市公司基本信息 > 上市公司基本信息年度表

选择以下数据下载

Symbol [股票代码] - 上交所和深交所上市的证券代码。
ShortName [股票简称] - 上交所和深交所上市的股票简称。
IndustryName [行业名称] - 2012版证监会行业分类名称。

以上数据下载后，请解压，并将数据放到本目录下，然后执行

```shell
python clean.py
```

然后在相同目录会出现 

+ ROE.csv 
+ MVret.csv
+ RF.csv
+ RM.csv
+ ROE.csv
+ Inv.csv

这些文件，即预处理好的数据。

