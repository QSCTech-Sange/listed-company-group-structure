# 数据预处理

数据来源于 `csmar`，版权原因不在这里提供具体数据，仅标注数据文件名。请从适当渠道按照下文标注来下载相关数据，格式为 csv，然后运行仓库内的数据处理脚本。

如，想要预处理净资产收益率，那么下载净资产收益率的数据文件，将文件 CSR_Finidx.csv 放在本目录里，然后执行

```shell
python ROE.py
```

然后在相同目录会出现 ROE.csv 文件，即预处理好的数据。

## 个股收益率和市值

代码文件是 MV_return.py

个股收益率文件来源于SRFR_Amnthlyr，数据选择为证券代码，月份，个股总市值，和考虑现金红利再投资的月个股回报率。选择2010年到2020年沪深两市所有的A 股股票，使用月度数据避免信息量过大。剔除这十年间并不是连续都有数据的股票，筛选后得到总共630支股票，75601条数据。

个股总市值文件来源于SRFR_Amnthlyr，选择2010年到2020年沪深两市所有的A 股股票，使用月度数据避免信息量过大。剔除这十年间并不是连续都有数据的股票，筛选后得到总共630支股票，75601条数据。市值采用了取对数，并且使用（本公司市值-最小市值）/（最大市值-最小市值）来实现标准化，以达到和其他变量数据尺度的统一。

## 账面市值比

代码文件是 BM.py

账面市值比文件来源于 SRFR_Finidx，数据选择为证券代码，会计年度和账面市值比选择2010年到2020年沪深两市所有的A股股票，剔除这十年间并不是连续都有数据的股票。

## 净资产收益率

代码文件是 ROE.py

净资产收益率文件来源于 CSR_Finidx，数据选择证券代码、会计年度、T40802净资产收益率。选择2010年到2020年沪深两市所有的A 股股票，剔除这十年间并不是连续都有数据的股票，筛选后得到总共有630支股票，6300条数据。

## 总资产增长率

代码文件是 Inv.py

文件来源于 FI_T8，数据选择股票代码、会计年度、F080603A [总资产增长率C] 。选择2010年到2020年沪深两市所有的A股股票，剔除这十年间并不是连续都有数据的股票，筛选后得到总共有1798支股票，137869条数据。